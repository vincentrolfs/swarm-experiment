(this.webpackJsonpswarm=this.webpackJsonpswarm||[]).push([[0],{20:function(t,i,n){t.exports=n(37)},25:function(t,i,n){},26:function(t,i,n){},37:function(t,i,n){"use strict";n.r(i);var e=n(0),a=n.n(e),r=n(16),s=n.n(r),o=(n(25),n(26),n(5)),h=n(3),u=n(4),c=function(){function t(i,n){if(Object(h.a)(this,t),void 0===i||void 0===n){this.x=Math.random()-.5,this.y=Math.random()-.5;var e=v*Math.random()/this.magnitude();this.x*=e,this.x+=f.x,this.y*=e,this.y+=f.y}else this.x=i,this.y=n}return Object(u.a)(t,[{key:"add",value:function(i){return new t(this.x+i.x,this.y+i.y)}},{key:"subtract",value:function(i){return new t(this.x-i.x,this.y-i.y)}},{key:"magnitude",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"distance",value:function(t){return this.subtract(t).magnitude()}},{key:"multiply",value:function(i){return new t(this.x*i,this.y*i)}},{key:"divide",value:function(t){return this.multiply(1/t)}},{key:"moveUniform",value:function(t){t=t.divide(t.magnitude());var i=this.add(t);if(i.distance(f)<=v)return i;var n=l(f,v,this,1),e=Object(o.a)(n,2),a=e[0],r=e[1];return i.distance(a)<=i.distance(r)?a:r}}]),t}(),l=function(t,i,n,e){var a=[t.x,t.y,n.x,n.y],r=a[0],s=a[1],o=a[2],h=a[3],u=r-o,l=s-h,v=Math.sqrt(u*u+l*l);if(!(Math.abs(i-e)<=v&&v<=i+e))return[];var f=v*v,d=f*f,y=(i*i-e*e)/(2*f),p=i*i-e*e,w=Math.sqrt(2*(i*i+e*e)/f-p*p/d-1),m=(r+o)/2+y*(o-r),x=w*(h-s)/2,k=m-x,b=(s+h)/2+y*(h-s),g=w*(r-o)/2,M=b-g;return[new c(m+x,b+g),new c(k,M)]},v=350,f=new c(375,375),d=n(18),y=n(19),p=function(){function t(i){Object(h.a)(this,t),this.canvas=i,this.ctx=i.getContext("2d"),this.behaviours=[],this.positions=[],this.colors=[],this.initBehaviours(),this.initPositions(),this.initColors(),this.runLoop()}return Object(u.a)(t,[{key:"initBehaviours",value:function(){for(var t=this._get_permutation(10),i=0;i<10;i++){var n=t[i];do{n=Math.floor(10*Math.random())}while(n===i);var e=4*Math.random()*v-2*v;this.behaviours.push([n,e])}}},{key:"_get_permutation",value:function(t){for(var i,n,e=Object(d.a)(Array(t).keys()),a=[e.slice()],r=new Array(t).fill(0),s=1;s<t;)r[s]<s?(i=s%2&&r[s],n=e[s],e[s]=e[i],e[i]=n,++r[s],s=1,a.push(e.slice())):(r[s]=0,++s);return a}},{key:"initPositions",value:function(){var t=this;this.behaviours.forEach((function(){return t.positions.push(new c)}))}},{key:"initColors",value:function(){this.colors=Object(y.a)({count:this.positions.length}).map((function(t){return t.hex()}))}},{key:"runLoop",value:function(){var t=this;setInterval((function(){t.draw(),t.updatePositions()}),5)}},{key:"draw",value:function(){this.ctx.fillStyle="black",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.drawArena();for(var t=0;t<this.positions.length;t++)this.drawAgent(t)}},{key:"drawAgent",value:function(t){var i=this.ctx,n=this.positions[t],e=n.x,a=n.y,r=this.colors[t],s=this.colors[this.behaviours[t][0]],o=1===Math.sign(this.behaviours[t][1]);i.beginPath(),i.arc(e,a,20,0,2*Math.PI,!1),i.fillStyle=r,i.fill(),i.font="15px serif",i.fillText(o?"\u2764\ufe0f":"\ud83d\udd25",e+10,a-10),i.beginPath(),i.arc(e+20/3,a+20/3,20/3,0,2*Math.PI,!1),i.fillStyle=s,i.fill()}},{key:"drawArena",value:function(){this.ctx.beginPath(),this.ctx.arc(f.x,f.y,v,0,2*Math.PI,!1),this.ctx.lineWidth=8;var t=this.ctx.createRadialGradient(f.x,f.y,v,f.x,f.y,v+50);t.addColorStop(0,"black"),t.addColorStop(.2,"white"),this.ctx.strokeStyle=t,this.ctx.stroke()}},{key:"updatePositions",value:function(){for(var t=this.positions,i=this.behaviours,n=0;n<t.length;n++)if(i[n]){var e=t[n],a=t[i[n][0]],r=i[n][1],s=this.findNewPosition(e,a,r),h=Object(o.a)(s,2),u=h[0],c=h[1];t[n]=u,c||this.updateBehaviour(n)}}},{key:"updateBehaviour",value:function(t){Math.random()<=.001&&(this.behaviours[t][1]=-Math.sign(this.behaviours[t][1])*Math.random()*2*v)}},{key:"findNewPosition",value:function(t,i,n){var e=this.findDirectionMultiplier(t,i,n);if(0===e)return[t,!1];var a=i.subtract(t).multiply(e);return[t.moveUniform(a),!0]}},{key:"findDirectionMultiplier",value:function(t,i,n){var e=t.distance(i),a=Math.sign(n);return a<0&&(n=-2*v-n),a*e>n?a:0}}]),t}();var w=function(){return a.a.createElement("div",{className:"wrapper"},a.a.createElement("canvas",{width:750,height:750,ref:function(t){return new p(t)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.ac96c015.chunk.js.map